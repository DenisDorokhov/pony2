<div class="album-container">
  <pony-image-loader [class.pointer]="albumSongs.album.largeArtworkUrl" [showNewIndicator]="showNewIndicator"
                     [url]="albumSongs.album.largeArtworkUrl" (click)="openArtwork()"></pony-image-loader>
  <div class="song-list-container">
    <h4 title="{{
      (albumSongs.album.artist.name | ponyUnknownArtist) +
      ' - ' +
      (albumSongs.album.name | ponyUnknownAlbum) +
      (albumSongs.album.year ? ' [' + albumSongs.album.year + ']' : '') + '\n' +
      ('library.album.sizeLabel' | translate:{ songCount: albumSongs.songs.length, duration })
    }}">
      <span>{{ albumSongs.album.name | ponyUnknownAlbum }}</span>
      <button (click)="download()"
              type="button" class="btn btn-sm btn-light">
        <i class="bi bi-download"></i>
      </button>
      <small [hidden]="!albumSongs.album.year">{{ albumSongs.album.year }}</small>
      <div ngbDropdown class="options" #menuDropdown="ngbDropdown" container="body">
        <button ngbDropdownToggle class="menu"><i class="bi bi-three-dots-vertical"></i></button>
        <div ngbDropdownMenu class="dropdown-menu" role="menu">
          <button ngbDropdownItem (click)="playNext()"><i class="bi bi-play-circle-fill"></i>{{ 'library.song.playNext' | translate }}</button>
          <button ngbDropdownItem (click)="addToQueue()"><i class="bi bi-plus-circle-fill"></i>{{ 'library.song.addToQueue' | translate }}</button>
          <button ngbDropdownItem (click)="createQueue()"><i class="bi bi-plus-lg"></i>{{ 'library.song.createQueue' | translate }}</button>
          <li [hidden]="topPlaylists.length < 1"><hr class="dropdown-divider"></li>
          @for (playlist of topPlaylists; track playlist.id) {
            <button ngbDropdownItem (click)="addToPlaylist(playlist)"><i class="bi bi-file-plus"></i>{{ 'library.song.addToPlaylist' | translate:{
              name: playlist.name,
            } }}</button>
          }
          <li><hr class="dropdown-divider"></li>
          <button ngbDropdownItem (click)="selectOrCreatePlaylist()"><i class="bi bi-music-note-list"></i>{{ 'library.song.selectOrCreatePlaylist' | translate }}</button>
        </div>
      </div>
    </h4>
    <pony-song-list *ngFor="let disc of discs; trackBy: trackByIndex"
                    [caption]="disc.discNumber ? ('library.album.discLabel' | translate:{discNumber:disc.discNumber}) : undefined"
                    [songs]="disc.songs" [showArtist]="disc.showArtist">
    </pony-song-list>
  </div>
</div>
