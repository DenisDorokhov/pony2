<div class="modal-header">
  <h4 class="modal-title">{{ 'scanJob.header' | translate }}</h4>
  <button type="button" class="btn-close" aria-label="Close" (click)="activeModal.dismiss()"></button>
</div>
<div class="modal-body">

  <div class="mb-3" [hidden]="!scanJob.creationDate">
    <label class="form-label">{{ 'shared.creationDateLabel' | translate }}</label>
    <div>{{ scanJob.creationDate | date:('shared.dateTimeFormat' | translate) }}</div>
  </div>

  <div class="mb-3" [hidden]="!scanJob.updateDate">
    <label class="form-label">{{ 'shared.updateDateLabel' | translate }}</label>
    <div>{{ scanJob.updateDate | date:('shared.dateTimeFormat' | translate) }}</div>
  </div>

  <div class="mb-3">
    <label class="form-label">{{ 'scanJob.statusLabel' | translate }}</label>
    <div class="scan-job-status" [class.starting]="scanJob.status === ScanJobStatus.STARTING"
         [class.started]="scanJob.status === ScanJobStatus.STARTED"
         [class.complete]="scanJob.status === ScanJobStatus.COMPLETE"
         [class.failed]="scanJob.status === ScanJobStatus.FAILED"
         [class.interrupted]="scanJob.status === ScanJobStatus.INTERRUPTED"
    >{{ scanJob.status }}</div>
  </div>

  <div class="mb-3" [hidden]="!scanJob.logMessage">
    <label class="form-label">{{ 'scanJob.logMessageLabel' | translate }}</label>
    <div>{{ scanJob.logMessage?.text }}</div>
  </div>

  <div [hidden]="!scanJob.scanResult">

    <div class="mb-3">
      <label class="form-label">{{ 'scanJob.targetPathsLabel' | translate }}</label>
      <div *ngFor="let targetPath of scanJob.scanResult!.targetPaths">
        {{ targetPath }}
      </div>
    </div>

    <div class="mb-3" [hidden]="scanJob.scanResult!.failedPaths.length < 1">
      <label class="form-label">{{ 'scanJob.failedPathsLabel' | translate }}</label>
      <div *ngFor="let failedPath of scanJob.scanResult!.failedPaths">
        {{ failedPath }}
      </div>
    </div>

    <div class="mb-3">
      <label class="form-label">{{ 'scanJob.processedAudioFilesLabel' | translate }}</label>
      <div>{{ scanJob.scanResult?.processedAudioFileCount }}</div>
    </div>

    <div class="mb-3">
      <label class="form-label">{{ 'scanJob.scanResultLabel' | translate }}</label>
      <div>{{ 'scanJob.scanResult' | translate:{
        createdArtistCount: scanJob.scanResult!.createdArtistCount,
        updatedArtistCount: scanJob.scanResult!.updatedArtistCount,
        deletedArtistCount: scanJob.scanResult!.deletedArtistCount,
        createdAlbumCount: scanJob.scanResult!.createdAlbumCount,
        updatedAlbumCount: scanJob.scanResult!.updatedAlbumCount,
        deletedAlbumCount: scanJob.scanResult!.deletedAlbumCount,
        createdGenreCount: scanJob.scanResult!.createdGenreCount,
        updatedGenreCount: scanJob.scanResult!.updatedGenreCount,
        deletedGenreCount: scanJob.scanResult!.deletedGenreCount,
        createdSongCount: scanJob.scanResult!.createdSongCount,
        updatedSongCount: scanJob.scanResult!.updatedSongCount,
        deletedSongCount: scanJob.scanResult!.deletedSongCount,
        createdArtworkCount: scanJob.scanResult!.createdArtworkCount,
        deletedArtworkCount: scanJob.scanResult!.deletedArtworkCount,
      } }}</div>
    </div>

    <div class="mb-3">
      <label class="form-label">{{ 'scanJob.librarySizeLabel' | translate }}</label>
      <div>{{ 'scanJob.librarySize' | translate:{
        artistCount: scanJob.scanResult!.artistCount,
        albumCount: scanJob.scanResult!.albumCount,
        songCount: scanJob.scanResult!.songCount,
        artworkCount: scanJob.scanResult!.artworkCount,
        genreCount: scanJob.scanResult!.genreCount,
        duration: duration,
        songSize: songSize,
        artworkSize: artworkSize,
      } }}</div>
    </div>

  </div>

</div>
<div class="modal-footer"></div>
