<div class="toolbar-container">
  <div ngbDropdown class="btn-group playback-mode">
    <button ngbDropdownToggle type="button" class="btn btn-sm btn-light menu" data-toggle="dropdown">
      @switch (playbackMode) {
        @case (PlaybackMode.NORMAL) {
          <i class="bi bi-vinyl-fill"></i>
        }
        @case (PlaybackMode.REPEAT_ALL) {
          <i class="bi bi-repeat"></i>
        }
        @case (PlaybackMode.REPEAT_ONE) {
          <i class="bi bi-repeat-1"></i>
        }
        @case (PlaybackMode.SHUFFLE) {
          <i class="bi bi-shuffle"></i>
        }
        @case (PlaybackMode.RADIO) {
          <i class="bi bi-broadcast-pin"></i>
        }
      }
      <span class="caret"></span>
    </button>
    <ul ngbDropdownMenu class="dropdown-menu dropdown-menu-end" role="menu">
      <button ngbDropdownItem (click)="setPlaybackMode(PlaybackMode.NORMAL)"><i class="bi bi-vinyl-fill"></i>{{ 'library.toolbar.normalModeButton' | translate }}</button>
      <button ngbDropdownItem (click)="setPlaybackMode(PlaybackMode.REPEAT_ALL)"><i class="bi bi-repeat"></i>{{ 'library.toolbar.repeatAllModeButton' | translate }}</button>
      <button ngbDropdownItem (click)="setPlaybackMode(PlaybackMode.REPEAT_ONE)"><i class="bi bi-repeat-1"></i>{{ 'library.toolbar.repeatOneModeButton' | translate }}</button>
      <button ngbDropdownItem (click)="setPlaybackMode(PlaybackMode.SHUFFLE)"><i class="bi bi-shuffle"></i>{{ 'library.toolbar.shuffleModeButton' | translate }}</button>
      <button ngbDropdownItem (click)="setPlaybackMode(PlaybackMode.RADIO)"><i class="bi bi-broadcast-pin"></i>{{ 'library.toolbar.radioModeButton' | translate }}</button>
    </ul>
  </div>
  <div ngbDropdown class="btn-group">
    <button ngbDropdownToggle type="button" class="btn btn-sm btn-light queue" data-toggle="dropdown">
      <i class="bi bi-list-task"></i>
      <span class="caret"></span>
    </button>
    <ul ngbDropdownMenu class="dropdown-menu dropdown-menu-end" role="menu">
      <button ngbDropdownItem (click)="openQueue()">{{ 'library.toolbar.queueButton' | translate }}</button>
      <button ngbDropdownItem (click)="openPlaylists()">{{ 'library.toolbar.playlistsButton' | translate }}</button>
      <button ngbDropdownItem (click)="openHistory()">{{ 'library.toolbar.historyButton' | translate }}</button>
    </ul>
  </div>
  <div ngbDropdown class="btn-group">
    <button ngbDropdownToggle type="button" class="btn btn-sm btn-light menu" data-toggle="dropdown">
      <i class="bi bi-person-fill"></i>
      <span class="caret"></span>
    </button>
    <ul ngbDropdownMenu class="dropdown-menu dropdown-menu-end" role="menu">
      <li class="username">{{ currentUser?.name }}</li>
      <li><hr class="dropdown-divider"></li>
      <button ngbDropdownItem (click)="openProfile()">{{ 'library.toolbar.profileButton' | translate }}</button>
      <button ngbDropdownItem (click)="signOut()">{{ 'library.toolbar.logOutButton' | translate }}</button>
    </ul>
  </div>
  <button *ngIf="currentUser?.role === 'ADMIN'" title="{{ 'library.toolbar.refreshButton' | translate }}" (click)="startScanJob()" type="button" class="btn btn-sm btn-light refresh">
    <i class="bi bi-arrow-clockwise" [class.spin]="scanRunning"></i>
  </button>
  <div *ngIf="currentUser?.role === 'ADMIN'" ngbDropdown class="btn-group">
    <button ngbDropdownToggle type="button" class="btn btn-sm btn-light menu" data-toggle="dropdown">
      <i class="bi bi-gear-fill"></i>
      <span class="caret"></span>
    </button>
    <ul ngbDropdownMenu class="dropdown-menu dropdown-menu-end" role="menu">
      <button ngbDropdownItem (click)="openScanning()">{{ 'library.toolbar.scanningButton' | translate }}</button>
      <button ngbDropdownItem (click)="openLog()">{{ 'library.toolbar.logButton' | translate }}</button>
      <button ngbDropdownItem (click)="openUsers()">{{ 'library.toolbar.usersButton' | translate }}</button>
      <button ngbDropdownItem (click)="openSettings()">{{ 'library.toolbar.settingsButton' | translate }}</button>
    </ul>
  </div>
  <div>
    <pony-fast-search />
  </div>
</div>
